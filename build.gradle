 /*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

 
plugins {
	id('progress.openedge.abl-base') version '2.3.0'
	id('base')
}

abl {
	propath("${dlcHome}/src","${dlcHome}/tty","${dlcHome}/tty/netlib/OpenEdge.Net.pl","${dlcHome}/src/OpenEdge.BusinessLogic.pl")
}

task createSports2020(type: CreateDB){
	dbName = 'mttenant'
	sourceDb = "${dlcHome}/sports2020"
	outputDir = "${buildDir}/db/mttenant"
}

task compileCode(type: ABLCompile){
	source('mttenant/pas_mttenant/src')
	propath("mttenant/pas_mttenant/src")
	include('**/*.cls')
	include('**/*.p')
	include('**/*.w')
	rcodeDir('/tmp/dist')
	avmOptions{
		tty.enabled = true
	}
	dbConnection {
		dbName="${buildDir}/db/mttenant/mttenant"
		connectionParameters = "-1"
    }
}
compileCode.dependsOn 'createSports2020'

